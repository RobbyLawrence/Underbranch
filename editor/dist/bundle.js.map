{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://underbranch-editor/./src/App.js","webpack://underbranch-editor/./src/Collaborative.js","webpack://underbranch-editor/./src/LaTeXEditor.js","webpack://underbranch-editor/./src/PreviewPane.js","webpack://underbranch-editor/./src/Toolbar.js","webpack://underbranch-editor/./src/latexCommands.js","webpack://underbranch-editor/webpack/bootstrap","webpack://underbranch-editor/webpack/runtime/compat get default export","webpack://underbranch-editor/webpack/runtime/define property getters","webpack://underbranch-editor/webpack/runtime/hasOwnProperty shorthand","webpack://underbranch-editor/webpack/runtime/make namespace object","webpack://underbranch-editor/./src/index.js"],"sourcesContent":["// Pull React hooks off the global React object. This file assumes React is\n// available globally (e.g. via a <script> tag or bundler that provides it).\nconst { useState, useEffect } = React;\n\n// Main application component. This is a small, non-JSX React component that\n// uses React.createElement to build the UI. It wires together three pieces:\n// - Toolbar: lets the user switch view modes and perform actions\n// - LaTeXEditor: an editor component for editing LaTeX source\n// - PreviewPane: renders the LaTeX source as HTML or a preview\nconst App = () => {\n    // latexCode holds the current LaTeX source the user is editing. We\n    // initialize it with a small sample document so the preview shows\n    // something on first load.\n    const [latexCode, setLatexCode] = useState(`\\\\documentclass{article}\n\\\\usepackage[utf8]{inputenc}\n\\\\title{My LaTeX Document}\n\\\\author{Author Name}\n\\\\date{\\\\today}\n\n\\\\begin{document}\n\n\\\\maketitle\n\n\\\\section{Introduction}\nThis is a sample LaTeX document. You can edit this text in the editor.\n\n\\\\section{Mathematical Equations}\nHere's a mathematical equation:\n\\\\begin{equation}\nE = mc^2\n\\\\end{equation}\n\nAnd an inline equation: $\\\\alpha + \\\\beta = \\\\gamma$\n\n\\\\subsection{More Examples}\n\\\\begin{itemize}\n\\\\item First item\n\\\\item Second item\n\\\\item Third item\n\\\\end{itemize}\n\n\\\\end{document}`);\n\n    // viewMode controls which panes are visible. Possible values:\n    // - 'editor'  -> only the editor is shown\n    // - 'preview' -> only the preview is shown\n    // - 'split'   -> both are shown side-by-side\n    const [viewMode, setViewMode] = useState(\"split\"); // 'editor', 'preview', 'split'\n    const [pdfUrl, setPdfUrl] = useState(null);\n\n    // Theme state: 'light' or 'dark'. Persist to localStorage and prefer\n    // the user's system preference when no saved preference exists.\n    const [theme, setTheme] = useState(() => {\n        try {\n            const saved = localStorage.getItem(\"ub_theme\");\n            if (saved) return saved;\n            const prefersDark =\n                window.matchMedia &&\n                window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n            return prefersDark ? \"dark\" : \"light\";\n        } catch (e) {\n            return \"light\";\n        }\n    });\n\n    // handleCodeChange is passed to the editor component. It receives the\n    // new text value and updates the latexCode state. We guard against\n    // undefined/null by falling back to an empty string.\n    const handleCodeChange = (value) => {\n        setLatexCode(value || \"\");\n    };\n    // handle compilation\n    const handleCompile = async () => {\n        try {\n            const res = await fetch(\"/compile/\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ latex: latexCode }),\n            });\n\n            if (!res.ok) {\n                const errText = await res.text();\n                alert(`Compilation error: ${errText}`);\n                return;\n            }\n\n            const blob = await res.blob();\n            const url = URL.createObjectURL(blob) + `#${Date.now()}`;\n            // clean up old blobs\n            setPdfUrl((prevUrl) => {\n                if (prevUrl) URL.revokeObjectURL(prevUrl);\n                return url;\n            });\n        } catch (err) {\n            alert(\"Network or server error: \" + err.message);\n        }\n    };\n//add ctrl+s and command+s to compile\n    useEffect(() => {\n        const handleKeyDown = (e) => {\n            if ((e.ctrlKey || e.metaKey) && e.key === 's') {\n                e.preventDefault();\n                handleCompile();\n            }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [latexCode]);\n    // Debug: log viewMode transitions so we can trace state changes while\n    // reproducing the issue in the browser console.\n    useEffect(() => {\n        console.log(\"[App] viewMode changed ->\", viewMode);\n        // Also update the document title so the current mode is visible\n        // in the browser tab (easy to spot without opening devtools).\n        try {\n            document.title = \"LaTeX Editor\";\n        } catch (e) {\n            // ignore (server side or non-browser env)\n        }\n        // Trigger a resize event to nudge layout systems (Monaco, CSS)\n        // to recompute sizes when the view mode changes.\n        try {\n            window.dispatchEvent(new Event(\"resize\"));\n        } catch (e) {\n            // ignore in non-browser environments\n        }\n    }, [viewMode]);\n\n    // Apply theme to document root and persist choice\n    useEffect(() => {\n        try {\n            document.documentElement.setAttribute(\"data-theme\", theme);\n            localStorage.setItem(\"ub_theme\", theme);\n        } catch (e) {\n            // ignore when not in browser\n        }\n    }, [theme]);\n\n    // The UI layout is built with React.createElement calls instead of JSX.\n    // To avoid layout glitches when switching modes we render both panes\n    // consistently and toggle their visibility/size using explicit CSS\n    // class names: 'split', 'full', or 'hidden'. This prevents frequent\n    // unmount/remount of the editor which can cause Monaco/DOM layout issues.\n    const editorClass =\n        viewMode === \"split\"\n            ? \"split\"\n            : viewMode === \"editor\"\n              ? \"full\"\n              : \"hidden\";\n    const previewClass =\n        viewMode === \"split\"\n            ? \"split\"\n            : viewMode === \"preview\"\n              ? \"full\"\n              : \"hidden\";\n\n    const editorVisible = viewMode === \"split\" || viewMode === \"editor\";\n  \n\n    return React.createElement(\n        \"div\",\n        { className: \"app\" },\n        React.createElement(Toolbar, {\n            viewMode: viewMode,\n            onViewModeChange: setViewMode,\n            latexCode: latexCode,\n            // add compilation handler\n            onCompile: handleCompile,\n            // i want the user to be able to download the pdf\n            // - robby\n            pdfUrl: pdfUrl,\n            theme: theme,\n            onToggleTheme: () =>\n                setTheme((t) => (t === \"light\" ? \"dark\" : \"light\")),\n        }),\n\n        React.createElement(\n            \"div\",\n            { className: `editor-container mode-${viewMode}` },\n            // Editor pane is always present but may be hidden via the\n            // 'hidden' class. This keeps Monaco mounted and stable.\n            React.createElement(\n                \"div\",\n                {\n                    className: `editor-pane ${editorClass}`,\n                },\n                React.createElement(LaTeXEditor, {\n                    value: latexCode,\n                    onChange: handleCodeChange,\n                    isVisible: editorVisible,\n                    theme: theme,\n                }),\n            ),\n\n            // Preview pane is always present as well; it will be hidden\n            // when not in 'preview' or 'split' modes.\n            React.createElement(\n                \"div\",\n                { className: `preview-pane ${previewClass}` },\n                pdfUrl\n                    ? React.createElement(\"iframe\", {\n                          src: pdfUrl,\n                          style: {\n                              width: \"100%\",\n                              height: \"100%\",\n                              border: \"none\",\n                          },\n                          title: \"PDF Preview\",\n                      })\n                    : React.createElement(\n                          \"div\",\n                          { className: \"loading\" },\n                          \"No PDF yet\",\n                      ),\n            ),\n        ),\n    );\n};\n\nexport default App;\n","// Collaborative features integration for the LaTeX Editor\n// This module handles real-time collaboration via Socket\n\nclass Collaborative {\n    constructor() {\n        this.socket = null;\n        this.editor = null;\n        this.app = null;\n        this.users = [];\n        this.currentUser = null;\n        this.currentRoom = null;\n        this.isUpdatingFromRemote = false;\n        this.decorations = [];\n        this.pendingChanges = [];\n        this.localVersion = 0;\n        this.remoteVersion = 0;\n\n        this.init();\n    }\n\n    async init() {\n        console.log(\"Starting collaborative initialization...\");\n\n        // Wait for Socket.IO to be available\n        console.log(\"Waiting for Socket.IO...\");\n        await this.waitForSocketIO();\n        console.log(\"Socket.IO ready\");\n\n        // Initialize socket connection\n        console.log(\"Initializing socket connection...\");\n        this.initSocket();\n\n        // Get user info and join\n        console.log(\"Getting user info...\");\n        await this.getUserInfo();\n\n        // Wait for the React app and Monaco editor\n        console.log(\"Waiting for Monaco editor...\");\n        await this.waitForEditor();\n        console.log(\"Monaco editor found!\");\n\n        // Setup collaborative features\n        console.log(\"Setting up collaboration...\");\n        this.setupCollaboration();\n\n        console.log(\"Collaborative features initialized!\");\n    }\n\n    waitForSocketIO() {\n        return new Promise((resolve) => {\n            const checkSocketIO = () => {\n                if (window.io) {\n                    resolve();\n                } else {\n                    setTimeout(checkSocketIO, 100);\n                }\n            };\n            checkSocketIO();\n        });\n    }\n\n    initSocket() {\n        this.socket = io(\"https://underbranch.org\");\n\n        this.socket.on(\"connect\", () => {\n            console.log(\"Connected to collaboration server\");\n        });\n\n        this.socket.on(\"disconnect\", () => {\n            console.log(\"Disconnected from collaboration server\");\n        });\n\n        // use delta syncing instead of fully updating the document each time\n        this.socket.on(\"document-update\", (data) => {\n            console.log(\"Received document update from\", data.userId);\n            this.handleRemoteUpdate(data);\n        });\n\n        this.socket.on(\"users-update\", (users) => {\n            console.log(\"Users list updated:\", users.length, \"users\");\n\n            //\n            const leftUserIds = this.users\n                .map((u) => u.userId)\n                .filter((userId) => !users.find((u) => u.userId === userId));\n\n            // remove cursors for each person that left\n            leftUserIds.forEach((userId) => {\n                this.removeUserCursor(userId);\n            });\n\n            this.users = users;\n            this.updateUsersList();\n        });\n\n        this.socket.on(\"cursor-update\", (data) => {\n            this.handleCursorUpdate(data);\n        });\n\n        this.socket.on(\"room-joined\", (data) => {\n            console.log(\"Successfully joined room:\", data.roomId);\n            this.currentRoom = data.roomId;\n\n            // Only do full content update when first joining\n            this.isUpdatingFromRemote = true;\n            if (this.editor) {\n                this.editor.setValue(data.content);\n            }\n            this.isUpdatingFromRemote = false;\n\n            this.users = data.users;\n            this.updateUsersList();\n\n            // Show success message\n            this.showMessage(\n                `Joined room: ${data.roomId}${data.isPasswordProtected ? \" (password protected)\" : \"\"}`,\n                \"success\",\n            );\n        });\n\n        this.socket.on(\"room-join-error\", (data) => {\n            console.error(\" Failed to join room:\", data.message);\n\n            if (data.error === \"invalid-password\") {\n                alert(` ${data.message}\\n\\nPlease try again.`);\n                setTimeout(() => this.promptForRoom(), 100);\n            } else if (data.error === \"room-not-found\") {\n                const createRoom = confirm(\n                    ` Room does not exist.\\n\\nWould you like to create it?`,\n                );\n                if (createRoom) {\n                    const password = prompt(\n                        `Set a password for the new room (or leave empty for no password):`,\n                    );\n                    this.joinRoom(this.currentRoom, password, true);\n                } else {\n                    setTimeout(() => this.promptForRoom(), 100);\n                }\n            } else if (data.error === \"room-already-exists\") {\n                alert(` ${data.message}`);\n                setTimeout(() => this.promptForRoom(), 100);\n            }\n        });\n\n        this.socket.on(\"room-check-result\", (data) => {\n            if (data.exists) {\n                if (data.isPasswordProtected) {\n                    const password = prompt(\n                        `Room \"${data.roomId}\" exists and is password protected.\\nEnter password:`,\n                    );\n                    this.joinRoom(data.roomId, password, false);\n                } else {\n                    this.joinRoom(data.roomId, null, false);\n                }\n            } else {\n                const createRoom = confirm(\n                    `Room \"${data.roomId}\" doesn't exist.\\nWould you like to create it?`,\n                );\n                if (createRoom) {\n                    const password = prompt(\n                        `Set a password for the new room \"${data.roomId}\" (or leave empty for no password):`,\n                    );\n                    this.joinRoom(data.roomId, password, true);\n                } else {\n                    setTimeout(() => this.promptForRoom(), 100);\n                }\n            }\n        });\n    }\n\n    async getUserInfo() {\n        let userName = localStorage.getItem(\"collaborativeUserName\");\n        let userColor = localStorage.getItem(\"collaborativeUserColor\");\n\n        if (!userName) {\n            userName =\n                prompt(\"Enter your name for collaborative editing:\") ||\n                `User ${Date.now()}`;\n            localStorage.setItem(\"collaborativeUserName\", userName);\n        }\n\n        if (!userColor) {\n            userColor = this.getRandomColor();\n            localStorage.setItem(\"collaborativeUserColor\", userColor);\n        }\n\n        this.currentUser = {\n            name: userName,\n            color: userColor,\n        };\n\n        await this.promptForRoom();\n    }\n\n    async promptForRoom() {\n        const roomId =\n            prompt('Enter room name to join (or leave empty for \"general\"):') ||\n            \"general\";\n\n        if (roomId === \"general\") {\n            this.joinRoom(roomId, null, true);\n            return;\n        }\n\n        this.checkRoomExists(roomId);\n    }\n\n    checkRoomExists(roomId) {\n        console.log(`Checking if room \"${roomId}\" exists...`);\n        this.socket.emit(\"check-room\", { roomId });\n    }\n\n    joinRoom(roomId, password, createRoom) {\n        this.currentRoom = roomId;\n\n        this.socket.emit(\"join-room\", {\n            roomId: roomId,\n            userData: this.currentUser,\n            password: password,\n            createRoom: createRoom,\n        });\n    }\n\n    waitForEditor() {\n        return new Promise((resolve) => {\n            const checkEditor = () => {\n                console.log(\"Looking for Monaco editor...\");\n\n                const editorElement = document.getElementById(\"monaco-editor\");\n                console.log(\"Editor element found:\", !!editorElement);\n\n                if (window.monaco) {\n                    console.log(\"Monaco global available\");\n\n                    if (editorElement && editorElement._monacoEditor) {\n                        console.log(\"Found editor on element._monacoEditor\");\n                        this.editor = editorElement._monacoEditor;\n                        resolve();\n                        return;\n                    }\n\n                    const editors = window.monaco.editor.getEditors();\n                    if (editors.length > 0) {\n                        console.log(\n                            \"Found editor via monaco.editor.getEditors():\",\n                            editors.length,\n                        );\n                        this.editor = editors[0];\n                        resolve();\n                        return;\n                    }\n                } else {\n                    console.log(\"Monaco global not available yet\");\n                }\n\n                console.log(\"Editor not ready yet, retrying...\");\n                setTimeout(checkEditor, 500);\n            };\n            checkEditor();\n        });\n    }\n\n    setupCollaboration() {\n        if (!this.editor) {\n            console.error(\"Monaco editor not found\");\n            return;\n        }\n\n        // use delta syncing instead of broadcasting entire document\n        this.editor.onDidChangeModelContent((e) => {\n            if (!this.isUpdatingFromRemote && e.changes.length > 0) {\n                console.log(\"Local change detected, broadcasting deltas...\");\n\n                // Convert Monaco changes to a serializable format\n                const changes = e.changes.map((change) => ({\n                    range: {\n                        startLineNumber: change.range.startLineNumber,\n                        startColumn: change.range.startColumn,\n                        endLineNumber: change.range.endLineNumber,\n                        endColumn: change.range.endColumn,\n                    },\n                    rangeLength: change.rangeLength,\n                    text: change.text,\n                }));\n\n                this.socket.emit(\"document-change\", {\n                    changes: changes,\n                    timestamp: Date.now(),\n                });\n            } else if (this.isUpdatingFromRemote) {\n                console.log(\"Skipping broadcast - change from remote\");\n            }\n        });\n\n        // listen for when the cursor changes position\n        this.editor.onDidChangeCursorPosition((e) => {\n            this.socket.emit(\"cursor-update\", {\n                lineNumber: e.position.lineNumber,\n                column: e.position.column,\n            });\n        });\n\n        console.log(\"Editor event listeners setup complete\");\n    }\n\n    // changed so that we use delta syncing instead of full document updates\n    handleRemoteUpdate(data) {\n        if (!this.editor || !data.changes || data.changes.length === 0) {\n            return;\n        }\n\n        console.log(\"Applying remote changes:\", data.changes.length, \"edits\");\n\n        this.isUpdatingFromRemote = true;\n\n        try {\n            const model = this.editor.getModel();\n\n            // save cursor position\n            const currentPosition = this.editor.getPosition();\n            const currentSelection = this.editor.getSelection();\n\n            // apply changes as edit operations\n            const edits = data.changes.map((change) => ({\n                range: new monaco.Range(\n                    change.range.startLineNumber,\n                    change.range.startColumn,\n                    change.range.endLineNumber,\n                    change.range.endColumn,\n                ),\n                text: change.text,\n                forceMoveMarkers: true,\n            }));\n\n            // apply all edits in a single operation\n            model.pushEditOperations(\n                [currentSelection],\n                edits,\n                () => [currentSelection], // try to keep the users' selection\n            );\n\n            console.log(\"Remote changes applied successfully\");\n        } catch (error) {\n            console.error(\"Error applying remote changes:\", error);\n            // request full sync if we get an error with the delta changes\n            this.socket.emit(\"request-full-sync\", { roomId: this.currentRoom });\n        } finally {\n            this.isUpdatingFromRemote = false;\n        }\n    }\n\n    handleCursorUpdate(data) {\n        if (!this.editor || !data.lineNumber || !data.column) return;\n\n        // Remove old decorations for this user\n        this.removeUserCursor(data.userId);\n\n        // Add new cursor decoration\n        const decoration = {\n            range: new monaco.Range(\n                data.lineNumber,\n                data.column,\n                data.lineNumber,\n                data.column,\n            ),\n            options: {\n                className: \"collaborative-cursor\",\n                stickiness:\n                    monaco.editor.TrackedRangeStickiness\n                        .NeverGrowsWhenTypingAtEdges,\n                before: {\n                    content: data.user.name,\n                    inlineClassName: \"collaborative-cursor-label\",\n                    inlineClassNameAffectsLetterSpacing: false,\n                },\n                beforeContentClassName: \"collaborative-cursor-marker\",\n            },\n        };\n\n        const decorationIds = this.editor.deltaDecorations([], [decoration]);\n\n        // store decoration info\n        this.decorations.push({\n            userId: data.userId,\n            id: decorationIds[0],\n            color: data.user.color,\n            name: data.user.name,\n        });\n    }\n\n    removeUserCursor(userId) {\n        if (!this.editor) return;\n\n        const userDecorations = this.decorations.filter(\n            (d) => d.userId === userId,\n        );\n        if (userDecorations.length > 0) {\n            this.editor.deltaDecorations(\n                userDecorations.map((d) => d.id),\n                [],\n            );\n            this.decorations = this.decorations.filter(\n                (d) => d.userId !== userId,\n            );\n            console.log(`Removed cursor for user: ${userId}`);\n        }\n    }\n\n    updateUsersList() {\n        this.createUsersListUI();\n    }\n\n    createUsersListUI() {\n        const existingList = document.getElementById(\"collaborative-users\");\n        if (existingList) {\n            existingList.remove();\n        }\n\n        const usersList = document.createElement(\"div\");\n        usersList.id = \"collaborative-users\";\n        usersList.style.cssText = `\n            position: fixed;\n            top: 60px;\n            right: 20px;\n            background: white;\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            padding: 12px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            z-index: 1000;\n            max-width: 220px;\n        `;\n\n        const roomInfo = document.createElement(\"div\");\n        roomInfo.style.cssText = `\n            background: #f8f9fa;\n            padding: 8px;\n            border-radius: 4px;\n            margin-bottom: 12px;\n            border-left: 3px solid #4834D4;\n        `;\n\n        const roomTitle = document.createElement(\"div\");\n        roomTitle.textContent = `Room: ${this.currentRoom || \"Not connected\"}`;\n        roomTitle.style.cssText = `\n            font-weight: bold;\n            color: #333;\n            font-size: 13px;\n            margin-bottom: 4px;\n        `;\n\n        const switchButton = document.createElement(\"button\");\n        switchButton.textContent = \"Switch Room\";\n        switchButton.style.cssText = `\n            background: #4834D4;\n            color: white;\n            border: none;\n            padding: 4px 8px;\n            border-radius: 3px;\n            font-size: 11px;\n            cursor: pointer;\n        `;\n        switchButton.onclick = () => this.promptForRoom();\n\n        roomInfo.appendChild(roomTitle);\n        roomInfo.appendChild(switchButton);\n        usersList.appendChild(roomInfo);\n\n        const title = document.createElement(\"div\");\n        title.textContent = `Online Users (${this.users.length})`;\n        title.style.cssText = `\n            font-weight: bold;\n            margin-bottom: 8px;\n            color: #333;\n            font-size: 14px;\n        `;\n        usersList.appendChild(title);\n\n        this.users.forEach((user) => {\n            const userElement = document.createElement(\"div\");\n            userElement.style.cssText = `\n                display: flex;\n                align-items: center;\n                margin-bottom: 6px;\n                font-size: 13px;\n            `;\n\n            const colorDot = document.createElement(\"div\");\n            colorDot.style.cssText = `\n                width: 12px;\n                height: 12px;\n                background-color: ${user.color};\n                border-radius: 50%;\n                margin-right: 8px;\n            `;\n\n            const nameElement = document.createElement(\"span\");\n            nameElement.textContent = user.name;\n            nameElement.style.color = \"#555\";\n\n            userElement.appendChild(colorDot);\n            userElement.appendChild(nameElement);\n            usersList.appendChild(userElement);\n        });\n\n        document.body.appendChild(usersList);\n    }\n\n    getRandomColor() {\n        const colors = [\n            \"#FF6B6B\",\n            \"#4ECDC4\",\n            \"#45B7D1\",\n            \"#96CEB4\",\n            \"#FECA57\",\n            \"#FF9FF3\",\n            \"#54A0FF\",\n            \"#5F27CD\",\n            \"#00D2D3\",\n            \"#FF9F43\",\n        ];\n        return colors[Math.floor(Math.random() * colors.length)];\n    }\n\n    showMessage(message, type = \"info\") {\n        const messageDiv = document.createElement(\"div\");\n        messageDiv.textContent = message;\n        messageDiv.style.cssText = `\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 12px 20px;\n            border-radius: 6px;\n            color: white;\n            font-weight: bold;\n            z-index: 10000;\n            max-width: 300px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n            background-color: ${type === \"success\" ? \"#10AC84\" : type === \"error\" ? \"#EE5A24\" : \"#4834D4\"};\n        `;\n\n        document.body.appendChild(messageDiv);\n\n        setTimeout(() => {\n            if (messageDiv.parentNode) {\n                messageDiv.parentNode.removeChild(messageDiv);\n            }\n        }, 4000);\n    }\n}\n\n// CSS for collaborative cursors\nconst style = document.createElement(\"style\");\nstyle.textContent = `\n    .collaborative-cursor {\n        border-left: 2px solid rgba(255, 107, 107, 0.8) !important;\n    }\n\n    .collaborative-cursor-marker::before {\n        content: \"\";\n        position: absolute;\n        width: 2px;\n        height: 1.2em;\n        background-color: rgba(255, 107, 107, 0.8);\n    }\n\n    .collaborative-cursor-label {\n        background-color: rgba(255, 107, 107, 0.9);\n        color: white;\n        padding: 2px 6px;\n        border-radius: 3px;\n        font-size: 11px;\n        font-weight: bold;\n        white-space: nowrap;\n        position: relative;\n        top: -18px;\n        display: inline-block;\n        pointer-events: none;\n    }\n`;\ndocument.head.appendChild(style);\n\n// Initialize when DOM is ready\nif (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n        window.collaborative = new Collaborative();\n    });\n} else {\n    window.collaborative = new Collaborative();\n}\n\nwindow.Collaborative = Collaborative;\n","const { useEffect, useRef } = React;\nimport { latexCommands, latexEnvironments } from \"./latexCommands.js\";\n\nconst LaTeXEditor = ({\n    value,\n    onChange,\n    isVisible = true,\n    theme = \"light\",\n}) => {\n    const editorRef = useRef(null);\n    const monacoRef = useRef(null);\n    const layoutTimeout = useRef(null);\n\n  useEffect(() => {\n    // Initialize Monaco Editor\n    if (window.require && !monacoRef.current) {\n      window.require.config({\n        paths: { vs: \"https://unpkg.com/monaco-editor@0.44.0/min/vs\" },\n      });\n\n      window.require([\"vs/editor/editor.main\"], () => {\n        if (editorRef.current && !monacoRef.current) {\n          // Configure LaTeX language\n          monaco.languages.register({ id: \"latex\" });\n\n          // Define light and dark themes so the editor responds to\n          // the app-level theme toggle. We keep token rules similar\n          // but swap base and color tokens for readability on dark.\n          monaco.editor.defineTheme(\"underbranch-light\", {\n            base: \"vs\",\n            inherit: true,\n            rules: [\n              { token: \"keyword\", foreground: \"B5632D\" },\n              { token: \"string\", foreground: \"218721\" },\n              {\n                token: \"comment\",\n                foreground: \"737373\",\n                fontStyle: \"italic\",\n              },\n              { token: \"bracket\", foreground: \"505050\" },\n            ],\n            colors: {\n              \"editor.background\": \"#FFFFFF\",\n              \"editor.foreground\": \"#333333\",\n              \"editor.lineHighlightBackground\": \"#F5F5F5\",\n              \"editorCursor.foreground\": \"#B5632D\",\n              \"editor.selectionBackground\": \"#E8D3C7\",\n              \"editorLineNumber.foreground\": \"#999999\",\n            },\n          });\n\n          monaco.editor.defineTheme(\"underbranch-dark\", {\n            base: \"vs-dark\",\n            inherit: true,\n            rules: [\n              { token: \"keyword\", foreground: \"DCA06B\" },\n              { token: \"string\", foreground: \"78C179\" },\n              {\n                token: \"comment\",\n                foreground: \"94A3B8\",\n                fontStyle: \"italic\",\n              },\n              { token: \"bracket\", foreground: \"9AA6B2\" },\n            ],\n            colors: {\n              // Dark background aligned with page dark vars\n              \"editor.background\": \"#071122\",\n              \"editor.foreground\": \"#E6EEF8\",\n              \"editor.lineHighlightBackground\": \"#0b2230\",\n              \"editorCursor.foreground\": \"#B5632D\",\n              \"editor.selectionBackground\": \"#163246\",\n              \"editorLineNumber.foreground\": \"#6B7280\",\n            },\n          });\n\n          // Syntax highlighting\n          monaco.languages.setMonarchTokensProvider(\"latex\", {\n            tokenizer: {\n              root: [\n                [/\\\\[a-zA-Z@]+/, \"keyword\"],\n                [/\\\\begin\\{[^}]+\\}/, \"keyword\"],\n                [/\\\\end\\{[^}]+\\}/, \"keyword\"],\n                [/\\$.*?\\$/, \"string\"],\n                [/\\\\\\(.*?\\\\\\)/, \"string\"],\n                [/\\\\\\[.*?\\\\\\]/, \"string\"],\n                [/%.*$/, \"comment\"],\n                [/\\{/, \"bracket\"],\n                [/\\}/, \"bracket\"],\n              ],\n            },\n          });\n\n                    // LaTeX commands and environments are now imported from latexCommands.js\n\n          // Register completion provider for LaTeX commands\n          monaco.languages.registerCompletionItemProvider(\"latex\", {\n            triggerCharacters: [\"\\\\\", \"{\"],\n            provideCompletionItems: (model, position) => {\n              const lineContent = model.getLineContent(position.lineNumber);\n              const textBeforeCursor = lineContent.substring(\n                0,\n                position.column - 1\n              );\n                            // Command completions (after \\)\n                            const commandMatch =\n                                textBeforeCursor.match(/\\\\([a-zA-Z]*)$/);\n                            if (commandMatch) {\n                                const partialCommand = commandMatch[1];\n                                const textAfterCursor = lineContent.substring(\n                                    position.column - 1,\n                                );\n\n                                const suggestions = latexCommands\n                                    .filter((cmd) =>\n                                        cmd.command.startsWith(partialCommand),\n                                    )\n                                    .map((cmd) => {\n                                        // Check if cursor is inside braces and there's a closing brace\n                                        const hasOpenBrace =\n                                            textBeforeCursor.match(/\\{[^}]*$/);\n                                        const hasClosingBrace =\n                                            hasOpenBrace &&\n                                            textAfterCursor.startsWith(\"}\");\n\n                                        // If we're inside braces with a closing brace, don't include it in insertText\n                                        let insertText = cmd.insertText;\n                                        let endColumn = position.column;\n\n                                        if (\n                                            hasClosingBrace &&\n                                            insertText.includes(\"{\")\n                                        ) {\n                                            // Remove the closing brace from commands like \"textbf{$0}\"\n                                            insertText = insertText.replace(\n                                                /\\{([^}]*)\\}/,\n                                                \"{$1\",\n                                            );\n                                            endColumn = position.column + 1; // Include the closing brace in replacement\n                                        }\n\n                                        return {\n                                            label: cmd.command,\n                                            kind: monaco.languages\n                                                .CompletionItemKind.Function,\n                                            insertText: insertText,\n                                            insertTextRules:\n                                                monaco.languages\n                                                    .CompletionItemInsertTextRule\n                                                    .InsertAsSnippet,\n                                            documentation: cmd.documentation,\n                                            range: {\n                                                startLineNumber:\n                                                    position.lineNumber,\n                                                startColumn:\n                                                    position.column -\n                                                    partialCommand.length,\n                                                endLineNumber:\n                                                    position.lineNumber,\n                                                endColumn: endColumn,\n                                            },\n                                        };\n                                    });\n                                return { suggestions };\n                            }\n\n                            // Environment completions (after \\begin{)\n                            const beginMatch =\n                                textBeforeCursor.match(/\\\\begin\\{([^}]*)$/);\n                            if (beginMatch) {\n                                const partialEnv = beginMatch[1];\n                                const textAfterCursor = lineContent.substring(\n                                    position.column - 1,\n                                );\n\n                                // Check if there's already a closing brace after the cursor\n                                const hasClosingBrace =\n                                    textAfterCursor.startsWith(\"}\");\n\n                                const suggestions = latexEnvironments\n                                    .filter((env) => env.startsWith(partialEnv))\n                                    .map((env) => {\n                                        // If there's already a closing brace, we need to handle it carefully\n                                        let insertText, endColumn;\n                                        if (hasClosingBrace) {\n                                            // Include the environment content but skip past the existing closing brace\n                                            insertText = `${env}}\\n\\t$0\\n\\\\end{${env}}`;\n                                            endColumn = position.column + 1; // Replace up to and including the }\n                                        } else {\n                                            // No closing brace, add everything including the brace\n                                            insertText = `${env}}\\n\\t$0\\n\\\\end{${env}}`;\n                                            endColumn = position.column;\n                                        }\n\n                                        return {\n                                            label: env,\n                                            kind: monaco.languages\n                                                .CompletionItemKind.Keyword,\n                                            insertText: insertText,\n                                            insertTextRules:\n                                                monaco.languages\n                                                    .CompletionItemInsertTextRule\n                                                    .InsertAsSnippet,\n                                            documentation: `Insert ${env} environment`,\n                                            range: {\n                                                startLineNumber:\n                                                    position.lineNumber,\n                                                startColumn:\n                                                    position.column -\n                                                    partialEnv.length,\n                                                endLineNumber:\n                                                    position.lineNumber,\n                                                endColumn: endColumn,\n                                            },\n                                        };\n                                    });\n                                return { suggestions };\n                            }\n\n                            return { suggestions: [] };\n                        },\n                    });\n\n                    // Auto-close \\begin{} with \\end{} (with local scope checking)\n                    monaco.languages.registerCompletionItemProvider(\"latex\", {\n                        triggerCharacters: [\"}\"],\n                        provideCompletionItems: (model, position) => {\n                            const lineContent = model.getLineContent(\n                                position.lineNumber,\n                            );\n                            const textBeforeCursor = lineContent.substring(\n                                0,\n                                position.column - 1,\n                            );\n\n                            const beginMatch =\n                                textBeforeCursor.match(/\\\\begin\\{([^}]+)\\}$/);\n\n                            if (!beginMatch) {\n                                return { suggestions: [] };\n                            }\n\n                            const environmentName = beginMatch[1];\n\n                            // Skip known environments\n                            if (latexEnvironments.includes(environmentName)) {\n                                return { suggestions: [] };\n                            }\n\n                            // Check next 50 lines for matching \\end{}\n                            const totalLines = model.getLineCount();\n                            const searchLimit = Math.min(\n                                position.lineNumber + 50,\n                                totalLines,\n                            );\n                            const endPattern = `\\\\end{${environmentName}}`;\n\n                            for (\n                                let i = position.lineNumber;\n                                i <= searchLimit;\n                                i++\n                            ) {\n                                const line = model.getLineContent(i);\n                                if (line.includes(endPattern)) {\n                                    return { suggestions: [] }; // Found matching \\end{}, don't suggest\n                                }\n                            }\n\n                            return {\n                                suggestions: [\n                                    {\n                                        label: `Auto-close \\\\end{${environmentName}}`,\n                                        kind: monaco.languages\n                                            .CompletionItemKind.Snippet,\n                                        insertText: `\\n\\t$0\\n\\\\end{${environmentName}}`,\n                                        insertTextRules:\n                                            monaco.languages\n                                                .CompletionItemInsertTextRule\n                                                .InsertAsSnippet,\n                                        documentation: `Automatically close the ${environmentName} environment`,\n                                        range: {\n                                            startLineNumber:\n                                                position.lineNumber,\n                                            startColumn: position.column,\n                                            endLineNumber: position.lineNumber,\n                                            endColumn: position.column,\n                                        },\n                                        sortText: \"zzz_autoclose\",\n                                    },\n                                ],\n                            };\n                        },\n                    });\n\n                    // Create the editor\n                    monacoRef.current = monaco.editor.create(\n                        editorRef.current,\n                        {\n                            value: value,\n                            language: \"latex\",\n                            theme:\n                                theme === \"dark\"\n                                    ? \"underbranch-dark\"\n                                    : \"underbranch-light\",\n                            fontSize: 15,\n                            lineNumbers: \"on\",\n                            roundedSelection: true,\n                            scrollBeyondLastLine: false,\n                            automaticLayout: true,\n                            minimap: { enabled: false },\n                            wordWrap: \"on\",\n                            lineHeight: 24,\n                            padding: { top: 16, bottom: 16 },\n                            renderLineHighlight: \"all\",\n                            cursorBlinking: \"smooth\",\n                            cursorWidth: 2,\n                            fontFamily:\n                                \"'Fira Code', 'SF Mono', Consolas, 'Courier New', monospace\",\n                            fontLigatures: true,\n                            smoothScrolling: true,\n                            guides: {\n                                indentation: true,\n                                bracketPairs: true,\n                            },\n                        },\n                    );\n\n                    // Listen for content changes\n                    monacoRef.current.onDidChangeModelContent(() => {\n                        const currentValue = monacoRef.current.getValue();\n                        if (onChange) {\n                            onChange(currentValue);\n                        }\n                    });\n                }\n            });\n        }\n\n        // Listen for clear editor event\n        const handleClearEditor = () => {\n            if (monacoRef.current) {\n                monacoRef.current.setValue(\"\");\n            }\n        };\n\n        window.addEventListener(\"clearEditor\", handleClearEditor);\n\n        return () => {\n            window.removeEventListener(\"clearEditor\", handleClearEditor);\n            if (monacoRef.current) {\n                monacoRef.current.dispose();\n                monacoRef.current = null;\n            }\n        };\n    }, []);\n\n    // If the app-level theme changes, update the Monaco theme in-place.\n  useEffect(() => {\n    try {\n      if (monacoRef.current && window.monaco && window.monaco.editor) {\n        window.monaco.editor.setTheme(\n          theme === \"dark\" ? \"underbranch-dark\" : \"underbranch-light\"\n        );\n      }\n    } catch (e) {\n      // Ignore: monaco may not be available during SSR or early loads\n    }\n  }, [theme]);\n\n  // Update editor value when prop changes\n  useEffect(() => {\n    if (monacoRef.current && monacoRef.current.getValue() !== value) {\n      monacoRef.current.setValue(value);\n    }\n  }, [value]);\n\n  // Recalculate layout when editor becomes visible\n\n  useEffect(() => {\n    if (!monacoRef.current) return;\n\n    if (isVisible) {\n      if (layoutTimeout.current) clearTimeout(layoutTimeout.current);\n      layoutTimeout.current = setTimeout(() => {\n        try {\n          monacoRef.current.layout();\n        } catch (e) {\n          console.warn(\"monaco.layout failed\", e);\n        }\n      }, 50);\n    }\n\n    return () => {\n      if (layoutTimeout.current) {\n        clearTimeout(layoutTimeout.current);\n        layoutTimeout.current = null;\n      }\n    };\n  }, [isVisible]);\n\n  return React.createElement(\"div\", {\n    ref: editorRef,\n    id: \"monaco-editor\",\n  });\n};\n\nexport default LaTeXEditor;\n","const PreviewPane = ({ latexCode }) => {\n    const { useState, useEffect } = React;\n    const [processedContent, setProcessedContent] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n\n    // Simple LaTeX to HTML converter for basic preview\n    const processLaTeX = (latex) => {\n        setIsLoading(true);\n\n        // Basic LaTeX processing - this is a simplified version\n        let html = latex;\n\n        // Document structure\n        html = html.replace(/\\\\documentclass\\{[^}]+\\}/, '');\n        html = html.replace(/\\\\usepackage(?:\\[[^\\]]*\\])?\\{[^}]+\\}/g, '');\n        html = html.replace(/\\\\title\\{([^}]+)\\}/, '<h1 class=\"title\">$1</h1>');\n        html = html.replace(/\\\\author\\{([^}]+)\\}/, '<p class=\"author\">By: $1</p>');\n        html = html.replace(/\\\\date\\{([^}]+)\\}/, '<p class=\"date\">$1</p>');\n        html = html.replace(/\\\\maketitle/, '<div class=\"titlepage\"></div>');\n\n        // Sections\n        html = html.replace(/\\\\section\\{([^}]+)\\}/g, '<h2>$1</h2>');\n        html = html.replace(/\\\\subsection\\{([^}]+)\\}/g, '<h3>$1</h3>');\n        html = html.replace(/\\\\subsubsection\\{([^}]+)\\}/g, '<h4>$1</h4>');\n\n        // Math environments\n        html = html.replace(/\\\\begin\\{equation\\}([\\s\\S]*?)\\\\end\\{equation\\}/g, '<div class=\"equation\">$$1$</div>');\n        html = html.replace(/\\$([^$]+)\\$/g, '<span class=\"math\">$1</span>');\n\n        // Lists\n        html = html.replace(/\\\\begin\\{itemize\\}([\\s\\S]*?)\\\\end\\{itemize\\}/g, (match, content) => {\n            const items = content.replace(/\\\\item\\s+/g, '<li>').split('<li>').filter(item => item.trim());\n            return '<ul>' + items.map(item => '<li>' + item.trim() + '</li>').join('') + '</ul>';\n        });\n\n        html = html.replace(/\\\\begin\\{enumerate\\}([\\s\\S]*?)\\\\end\\{enumerate\\}/g, (match, content) => {\n            const items = content.replace(/\\\\item\\s+/g, '<li>').split('<li>').filter(item => item.trim());\n            return '<ol>' + items.map(item => '<li>' + item.trim() + '</li>').join('') + '</ol>';\n        });\n\n        // Text formatting\n        html = html.replace(/\\\\textbf\\{([^}]+)\\}/g, '<strong>$1</strong>');\n        html = html.replace(/\\\\textit\\{([^}]+)\\}/g, '<em>$1</em>');\n        html = html.replace(/\\\\emph\\{([^}]+)\\}/g, '<em>$1</em>');\n\n        // Clean up LaTeX commands and environments\n        html = html.replace(/\\\\begin\\{document\\}/, '');\n        html = html.replace(/\\\\end\\{document\\}/, '');\n        html = html.replace(/\\\\[a-zA-Z]+(?:\\[[^\\]]*\\])?\\{[^}]*\\}/g, '');\n        html = html.replace(/\\\\[a-zA-Z]+/g, '');\n\n        // Convert line breaks\n        html = html.replace(/\\n\\s*\\n/g, '</p><p>');\n        html = '<p>' + html + '</p>';\n        html = html.replace(/<p>\\s*<\\/p>/g, '');\n\n        setProcessedContent(html);\n        setIsLoading(false);\n    };\n\n    useEffect(() => {\n        const timeoutId = setTimeout(() => {\n            processLaTeX(latexCode);\n        }, 500); // Debounce processing\n\n        return () => clearTimeout(timeoutId);\n    }, [latexCode]);\n\n    if (isLoading) {\n        return React.createElement('div', { className: 'loading' }, 'Processing LaTeX...');\n    }\n\n    return React.createElement('div', { className: 'preview-content' },\n        React.createElement('div', {\n            dangerouslySetInnerHTML: { __html: processedContent }\n        }),\n        React.createElement('style', null, `\n            .preview-content h1.title {\n                text-align: center;\n                margin-bottom: 10px;\n                font-size: 24px;\n            }\n            .preview-content .author, .preview-content .date {\n                text-align: center;\n                margin: 5px 0;\n                color: #666;\n            }\n            .preview-content h2 {\n                margin: 20px 0 10px 0;\n                color: #333;\n                border-bottom: 1px solid #ddd;\n                padding-bottom: 5px;\n            }\n            .preview-content h3 {\n                margin: 15px 0 8px 0;\n                color: #444;\n            }\n            .preview-content h4 {\n                margin: 12px 0 6px 0;\n                color: #555;\n            }\n            .preview-content p {\n                margin: 10px 0;\n                line-height: 1.6;\n            }\n            .preview-content .equation {\n                text-align: center;\n                margin: 20px 0;\n                padding: 10px;\n                background: #f8f9fa;\n                border-left: 4px solid #007bff;\n                font-family: 'Times New Roman', serif;\n                font-style: italic;\n            }\n            .preview-content .math {\n                font-family: 'Times New Roman', serif;\n                font-style: italic;\n                background: #f0f0f0;\n                padding: 2px 4px;\n                border-radius: 3px;\n            }\n            .preview-content ul, .preview-content ol {\n                margin: 10px 0 10px 20px;\n            }\n            .preview-content li {\n                margin: 5px 0;\n            }\n        `)\n    );\n};\n\nexport default PreviewPane;\n","const Toolbar = ({\n    viewMode,\n    onViewModeChange,\n    latexCode,\n    onCompile,\n    pdfUrl,\n    theme,\n    onToggleTheme,\n}) => {\n    const handleDownload = () => {\n        const blob = new Blob([latexCode], { type: \"text/plain\" });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = \"document.tex\";\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    };\n    // handler for downloading the pdf\n    const handleDownloadPDF = () => {\n        if (!pdfUrl) {\n            alert(\"No compiled PDF available. Please compile first.\");\n            return;\n        }\n\n        const a = document.createElement(\"a\");\n        a.href = pdfUrl;\n        a.download = \"document.pdf\";\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n    };\n\n    const handleClear = () => {\n        if (confirm(\"Are you sure you want to clear the editor?\")) {\n            onViewModeChange(\"editor\");\n            // This will be handled by the parent component\n            const event = new CustomEvent(\"clearEditor\");\n            window.dispatchEvent(event);\n        }\n    };\n\n    // Debug helpers - log button clicks\n    const handleViewClick = (mode) => {\n        console.log(\"[Toolbar] button click ->\", mode);\n        onViewModeChange(mode);\n    };\n\n    return React.createElement(\n        \"div\",\n        { className: \"toolbar\" },\n        React.createElement(\"h1\", null, \"LaTeX Editor\"),\n        React.createElement(\n            \"div\",\n            { className: \"toolbar-buttons\" },\n            React.createElement(\n                \"button\",\n                {\n                    className: `btn ${viewMode === \"editor\" ? \"btn-primary\" : \"btn-secondary\"}`,\n                    onClick: () => handleViewClick(\"editor\"),\n                },\n                \"Editor\",\n            ),\n            React.createElement(\n                \"button\",\n                {\n                    className: `btn ${viewMode === \"split\" ? \"btn-primary\" : \"btn-secondary\"}`,\n                    onClick: () => handleViewClick(\"split\"),\n                },\n                \"Split\",\n            ),\n            React.createElement(\n                \"button\",\n                {\n                    className: `btn ${viewMode === \"preview\" ? \"btn-primary\" : \"btn-secondary\"}`,\n                    onClick: () => handleViewClick(\"preview\"),\n                },\n                \"Preview\",\n            ),\n            \n            React.createElement(\n                \"button\",\n                {\n                    className: \"btn btn-secondary\",\n                    onClick: handleDownload,\n                },\n                \"Download .tex File\",\n            ),\n            // add button for compilation\n            React.createElement(\n                \"button\",\n                {\n                    className: \"btn btn-primary\",\n                    onClick: onCompile,\n                },\n                \"Compile to PDF\",\n            ),\n            React.createElement(\n                \"button\",\n                {\n                    className: \"btn btn-secondary\",\n                    onClick: handleDownloadPDF,\n                    // button will start disabled since you don't\n                    // want to download a pdf that doesn't exist\n                    disabled: !pdfUrl,\n                },\n                \"Download PDF\",\n            ),\n            React.createElement(\n                \"button\",\n                {\n                    className: \"btn btn-secondary\",\n                    onClick: handleClear,\n                },\n                \"Clear\",\n            ),\n            React.createElement(\n                \"button\",\n                {\n                    className: `btn ${theme === \"dark\" ? \"btn-primary\" : \"btn-secondary\"}`,\n                    onClick: onToggleTheme,\n                    title: \"Toggle light/dark theme\",\n                },\n                theme === \"dark\" ? \"Light\" : \"Dark\",\n            ),\n        ),\n    );\n};\n\nexport default Toolbar;\n","// Comprehensive LaTeX commands for autocomplete\n// Based on LaTeX-Workshop and common LaTeX packages\n\nexport const latexCommands = [\n    // Document structure\n    { command: \"documentclass\", insertText: \"documentclass{$0}\", documentation: \"Document class\" },\n    { command: \"usepackage\", insertText: \"usepackage{$0}\", documentation: \"Use package\" },\n    { command: \"begin\", insertText: \"begin{$0}\", documentation: \"Begin environment\" },\n    { command: \"end\", insertText: \"end{$0}\", documentation: \"End environment\" },\n\n    // Sectioning\n    { command: \"part\", insertText: \"part{$0}\", documentation: \"Part\" },\n    { command: \"chapter\", insertText: \"chapter{$0}\", documentation: \"Chapter\" },\n    { command: \"section\", insertText: \"section{$0}\", documentation: \"Section\" },\n    { command: \"subsection\", insertText: \"subsection{$0}\", documentation: \"Subsection\" },\n    { command: \"subsubsection\", insertText: \"subsubsection{$0}\", documentation: \"Subsubsection\" },\n    { command: \"paragraph\", insertText: \"paragraph{$0}\", documentation: \"Paragraph\" },\n    { command: \"subparagraph\", insertText: \"subparagraph{$0}\", documentation: \"Subparagraph\" },\n\n    // Text formatting\n    { command: \"textbf\", insertText: \"textbf{$0}\", documentation: \"Bold text\" },\n    { command: \"textit\", insertText: \"textit{$0}\", documentation: \"Italic text\" },\n    { command: \"texttt\", insertText: \"texttt{$0}\", documentation: \"Typewriter text\" },\n    { command: \"textsc\", insertText: \"textsc{$0}\", documentation: \"Small caps\" },\n    { command: \"textsf\", insertText: \"textsf{$0}\", documentation: \"Sans serif text\" },\n    { command: \"textsl\", insertText: \"textsl{$0}\", documentation: \"Slanted text\" },\n    { command: \"emph\", insertText: \"emph{$0}\", documentation: \"Emphasized text\" },\n    { command: \"underline\", insertText: \"underline{$0}\", documentation: \"Underlined text\" },\n\n    // Font sizes\n    { command: \"tiny\", insertText: \"tiny \", documentation: \"Tiny font size\" },\n    { command: \"scriptsize\", insertText: \"scriptsize \", documentation: \"Script font size\" },\n    { command: \"footnotesize\", insertText: \"footnotesize \", documentation: \"Footnote font size\" },\n    { command: \"small\", insertText: \"small \", documentation: \"Small font size\" },\n    { command: \"normalsize\", insertText: \"normalsize \", documentation: \"Normal font size\" },\n    { command: \"large\", insertText: \"large \", documentation: \"Large font size\" },\n    { command: \"Large\", insertText: \"Large \", documentation: \"Larger font size\" },\n    { command: \"LARGE\", insertText: \"LARGE \", documentation: \"Even larger font size\" },\n    { command: \"huge\", insertText: \"huge \", documentation: \"Huge font size\" },\n    { command: \"Huge\", insertText: \"Huge \", documentation: \"Hugest font size\" },\n\n    // Document metadata\n    { command: \"title\", insertText: \"title{$0}\", documentation: \"Document title\" },\n    { command: \"author\", insertText: \"author{$0}\", documentation: \"Document author\" },\n    { command: \"date\", insertText: \"date{$0}\", documentation: \"Document date\" },\n    { command: \"maketitle\", insertText: \"maketitle\", documentation: \"Make title\" },\n\n    // Math mode\n    { command: \"frac\", insertText: \"frac{$1}{$2}\", documentation: \"Fraction\" },\n    { command: \"sqrt\", insertText: \"sqrt{$0}\", documentation: \"Square root\" },\n    { command: \"sum\", insertText: \"sum_{$1}^{$2}\", documentation: \"Summation\" },\n    { command: \"int\", insertText: \"int_{$1}^{$2}\", documentation: \"Integral\" },\n    { command: \"prod\", insertText: \"prod_{$1}^{$2}\", documentation: \"Product\" },\n    { command: \"lim\", insertText: \"lim_{$1}\", documentation: \"Limit\" },\n    { command: \"infty\", insertText: \"infty\", documentation: \"Infinity\" },\n    { command: \"partial\", insertText: \"partial\", documentation: \"Partial derivative\" },\n    { command: \"nabla\", insertText: \"nabla\", documentation: \"Nabla operator\" },\n\n    // Greek letters (lowercase)\n    { command: \"alpha\", insertText: \"alpha\", documentation: \" (alpha)\" },\n    { command: \"beta\", insertText: \"beta\", documentation: \" (beta)\" },\n    { command: \"gamma\", insertText: \"gamma\", documentation: \" (gamma)\" },\n    { command: \"delta\", insertText: \"delta\", documentation: \" (delta)\" },\n    { command: \"epsilon\", insertText: \"epsilon\", documentation: \" (epsilon)\" },\n    { command: \"varepsilon\", insertText: \"varepsilon\", documentation: \" (epsilon variant)\" },\n    { command: \"zeta\", insertText: \"zeta\", documentation: \" (zeta)\" },\n    { command: \"eta\", insertText: \"eta\", documentation: \" (eta)\" },\n    { command: \"theta\", insertText: \"theta\", documentation: \" (theta)\" },\n    { command: \"vartheta\", insertText: \"vartheta\", documentation: \" (theta variant)\" },\n    { command: \"iota\", insertText: \"iota\", documentation: \" (iota)\" },\n    { command: \"kappa\", insertText: \"kappa\", documentation: \" (kappa)\" },\n    { command: \"lambda\", insertText: \"lambda\", documentation: \" (lambda)\" },\n    { command: \"mu\", insertText: \"mu\", documentation: \" (mu)\" },\n    { command: \"nu\", insertText: \"nu\", documentation: \" (nu)\" },\n    { command: \"xi\", insertText: \"xi\", documentation: \" (xi)\" },\n    { command: \"pi\", insertText: \"pi\", documentation: \" (pi)\" },\n    { command: \"varpi\", insertText: \"varpi\", documentation: \" (pi variant)\" },\n    { command: \"rho\", insertText: \"rho\", documentation: \" (rho)\" },\n    { command: \"varrho\", insertText: \"varrho\", documentation: \" (rho variant)\" },\n    { command: \"sigma\", insertText: \"sigma\", documentation: \" (sigma)\" },\n    { command: \"varsigma\", insertText: \"varsigma\", documentation: \" (sigma variant)\" },\n    { command: \"tau\", insertText: \"tau\", documentation: \" (tau)\" },\n    { command: \"upsilon\", insertText: \"upsilon\", documentation: \" (upsilon)\" },\n    { command: \"phi\", insertText: \"phi\", documentation: \" (phi)\" },\n    { command: \"varphi\", insertText: \"varphi\", documentation: \" (phi variant)\" },\n    { command: \"chi\", insertText: \"chi\", documentation: \" (chi)\" },\n    { command: \"psi\", insertText: \"psi\", documentation: \" (psi)\" },\n    { command: \"omega\", insertText: \"omega\", documentation: \" (omega)\" },\n\n    // Greek letters (uppercase)\n    { command: \"Gamma\", insertText: \"Gamma\", documentation: \" (Gamma)\" },\n    { command: \"Delta\", insertText: \"Delta\", documentation: \" (Delta)\" },\n    { command: \"Theta\", insertText: \"Theta\", documentation: \" (Theta)\" },\n    { command: \"Lambda\", insertText: \"Lambda\", documentation: \" (Lambda)\" },\n    { command: \"Xi\", insertText: \"Xi\", documentation: \" (Xi)\" },\n    { command: \"Pi\", insertText: \"Pi\", documentation: \" (Pi)\" },\n    { command: \"Sigma\", insertText: \"Sigma\", documentation: \" (Sigma)\" },\n    { command: \"Upsilon\", insertText: \"Upsilon\", documentation: \" (Upsilon)\" },\n    { command: \"Phi\", insertText: \"Phi\", documentation: \" (Phi)\" },\n    { command: \"Psi\", insertText: \"Psi\", documentation: \" (Psi)\" },\n    { command: \"Omega\", insertText: \"Omega\", documentation: \" (Omega)\" },\n\n    // Math symbols\n    { command: \"times\", insertText: \"times\", documentation: \" (multiplication)\" },\n    { command: \"div\", insertText: \"div\", documentation: \" (division)\" },\n    { command: \"pm\", insertText: \"pm\", documentation: \" (plus-minus)\" },\n    { command: \"mp\", insertText: \"mp\", documentation: \" (minus-plus)\" },\n    { command: \"cdot\", insertText: \"cdot\", documentation: \" (centered dot)\" },\n    { command: \"ast\", insertText: \"ast\", documentation: \"* (asterisk)\" },\n    { command: \"star\", insertText: \"star\", documentation: \" (star)\" },\n    { command: \"circ\", insertText: \"circ\", documentation: \" (circle)\" },\n    { command: \"bullet\", insertText: \"bullet\", documentation: \" (bullet)\" },\n\n    // Relations\n    { command: \"leq\", insertText: \"leq\", documentation: \" (less than or equal)\" },\n    { command: \"geq\", insertText: \"geq\", documentation: \" (greater than or equal)\" },\n    { command: \"neq\", insertText: \"neq\", documentation: \" (not equal)\" },\n    { command: \"approx\", insertText: \"approx\", documentation: \" (approximately)\" },\n    { command: \"equiv\", insertText: \"equiv\", documentation: \" (equivalent)\" },\n    { command: \"sim\", insertText: \"sim\", documentation: \" (similar)\" },\n    { command: \"cong\", insertText: \"cong\", documentation: \" (congruent)\" },\n    { command: \"propto\", insertText: \"propto\", documentation: \" (proportional)\" },\n    { command: \"ll\", insertText: \"ll\", documentation: \" (much less than)\" },\n    { command: \"gg\", insertText: \"gg\", documentation: \" (much greater than)\" },\n\n    // Logic\n    { command: \"forall\", insertText: \"forall\", documentation: \" (for all)\" },\n    { command: \"exists\", insertText: \"exists\", documentation: \" (exists)\" },\n    { command: \"nexists\", insertText: \"nexists\", documentation: \" (does not exist)\" },\n    { command: \"neg\", insertText: \"neg\", documentation: \" (negation)\" },\n    { command: \"land\", insertText: \"land\", documentation: \" (logical and)\" },\n    { command: \"lor\", insertText: \"lor\", documentation: \" (logical or)\" },\n    { command: \"implies\", insertText: \"implies\", documentation: \" (implies)\" },\n    { command: \"iff\", insertText: \"iff\", documentation: \" (if and only if)\" },\n\n    // Sets\n    { command: \"in\", insertText: \"in\", documentation: \" (element of)\" },\n    { command: \"notin\", insertText: \"notin\", documentation: \" (not element of)\" },\n    { command: \"subset\", insertText: \"subset\", documentation: \" (subset)\" },\n    { command: \"supset\", insertText: \"supset\", documentation: \" (superset)\" },\n    { command: \"subseteq\", insertText: \"subseteq\", documentation: \" (subset or equal)\" },\n    { command: \"supseteq\", insertText: \"supseteq\", documentation: \" (superset or equal)\" },\n    { command: \"cup\", insertText: \"cup\", documentation: \" (union)\" },\n    { command: \"cap\", insertText: \"cap\", documentation: \" (intersection)\" },\n    { command: \"emptyset\", insertText: \"emptyset\", documentation: \" (empty set)\" },\n    { command: \"mathbb\", insertText: \"mathbb{$0}\", documentation: \"Blackboard bold (e.g., , )\" },\n\n    // Arrows\n    { command: \"leftarrow\", insertText: \"leftarrow\", documentation: \" (left arrow)\" },\n    { command: \"rightarrow\", insertText: \"rightarrow\", documentation: \" (right arrow)\" },\n    { command: \"leftrightarrow\", insertText: \"leftrightarrow\", documentation: \" (left-right arrow)\" },\n    { command: \"Leftarrow\", insertText: \"Leftarrow\", documentation: \" (double left arrow)\" },\n    { command: \"Rightarrow\", insertText: \"Rightarrow\", documentation: \" (double right arrow)\" },\n    { command: \"Leftrightarrow\", insertText: \"Leftrightarrow\", documentation: \" (double left-right arrow)\" },\n\n    // Delimiters\n    { command: \"left(\", insertText: \"left( $0 \\\\right)\", documentation: \"Auto-sized parentheses\" },\n    { command: \"left[\", insertText: \"left[ $0 \\\\right]\", documentation: \"Auto-sized brackets\" },\n    { command: \"left{\", insertText: \"left\\\\{ $0 \\\\right\\\\}\", documentation: \"Auto-sized braces\" },\n    { command: \"left|\", insertText: \"left| $0 \\\\right|\", documentation: \"Auto-sized vertical bars\" },\n\n    // References\n    { command: \"label\", insertText: \"label{$0}\", documentation: \"Label for reference\" },\n    { command: \"ref\", insertText: \"ref{$0}\", documentation: \"Reference to label\" },\n    { command: \"eqref\", insertText: \"eqref{$0}\", documentation: \"Equation reference\" },\n    { command: \"cite\", insertText: \"cite{$0}\", documentation: \"Citation\" },\n    { command: \"bibliography\", insertText: \"bibliography{$0}\", documentation: \"Bibliography\" },\n    { command: \"bibliographystyle\", insertText: \"bibliographystyle{$0}\", documentation: \"Bibliography style\" },\n\n    // Lists\n    { command: \"item\", insertText: \"item $0\", documentation: \"List item\" },\n\n    // Spacing\n    { command: \"vspace\", insertText: \"vspace{$0}\", documentation: \"Vertical space\" },\n    { command: \"hspace\", insertText: \"hspace{$0}\", documentation: \"Horizontal space\" },\n    { command: \"newpage\", insertText: \"newpage\", documentation: \"New page\" },\n    { command: \"linebreak\", insertText: \"linebreak\", documentation: \"Line break\" },\n    { command: \"noindent\", insertText: \"noindent\", documentation: \"No indentation\" },\n\n    // Graphics\n    { command: \"includegraphics\", insertText: \"includegraphics{$0}\", documentation: \"Include graphics\" },\n    { command: \"caption\", insertText: \"caption{$0}\", documentation: \"Caption\" },\n\n    // Tables\n    { command: \"hline\", insertText: \"hline\", documentation: \"Horizontal line in table\" },\n    { command: \"multicolumn\", insertText: \"multicolumn{$1}{$2}{$3}\", documentation: \"Multicolumn cell\" },\n    { command: \"multirow\", insertText: \"multirow{$1}{$2}{$3}\", documentation: \"Multirow cell\" },\n\n    // Theorems and proofs (amsthm package)\n    { command: \"newtheorem\", insertText: \"newtheorem{$1}{$2}\", documentation: \"Define new theorem environment\" },\n    { command: \"qed\", insertText: \"qed\", documentation: \"QED symbol\" },\n    { command: \"qedhere\", insertText: \"qedhere\", documentation: \"Place QED symbol here\" },\n];\n\nexport const latexEnvironments = [\n    // Basic document\n    \"document\",\n\n    // Math environments\n    \"equation\",\n    \"equation*\",\n    \"align\",\n    \"align*\",\n    \"gather\",\n    \"gather*\",\n    \"multline\",\n    \"multline*\",\n    \"split\",\n    \"cases\",\n    \"matrix\",\n    \"pmatrix\",\n    \"bmatrix\",\n    \"Bmatrix\",\n    \"vmatrix\",\n    \"Vmatrix\",\n\n    // Lists\n    \"itemize\",\n    \"enumerate\",\n    \"description\",\n\n    // Floats\n    \"figure\",\n    \"table\",\n\n    // Text formatting\n    \"center\",\n    \"flushleft\",\n    \"flushright\",\n    \"quote\",\n    \"quotation\",\n    \"verse\",\n    \"verbatim\",\n\n    // Front matter\n    \"abstract\",\n    \"titlepage\",\n\n    // Theorem-like environments (amsthm)\n    \"theorem\",\n    \"lemma\",\n    \"proposition\",\n    \"corollary\",\n    \"conjecture\",\n    \"definition\",\n    \"example\",\n    \"remark\",\n    \"note\",\n    \"proof\",\n    \"claim\",\n    \"axiom\",\n\n    // Beamer\n    \"frame\",\n    \"block\",\n    \"alertblock\",\n    \"exampleblock\",\n\n    // Tabular\n    \"tabular\",\n    \"tabular*\",\n    \"array\",\n];\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Toolbar from './Toolbar.js';\nimport LaTeXEditor from './LaTeXEditor.js';\nimport PreviewPane from './PreviewPane.js';\nimport App from './App.js';\n// Import Collaborative features\nimport './Collaborative.js';\n\n// Make components available globally for backward compatibility\nwindow.Toolbar = Toolbar;\nwindow.LaTeXEditor = LaTeXEditor;\nwindow.PreviewPane = PreviewPane;\nwindow.App = App;\n\n// Function to initialize the app\nconst initializeApp = () => {\n    try {\n        // Wait for React to be available\n        if (typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {\n            const root = ReactDOM.createRoot(document.getElementById('root'));\n            root.render(React.createElement(App));\n        } else {\n            console.error('React or ReactDOM not loaded');\n        }\n    } catch (error) {\n        console.error('Error loading app:', error);\n        document.getElementById('root').innerHTML = `\n            <div style=\"padding: 20px; text-align: center; color: red;\">\n                <h2>Error Loading Editor</h2>\n                <p>There was an error loading the LaTeX editor. Please check the console for details.</p>\n            </div>\n        `;\n    }\n};\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initializeApp);\n} else {\n    initializeApp();\n}\n"],"names":["useState","useEffect","React","App","latexCode","setLatexCode","viewMode","setViewMode","pdfUrl","setPdfUrl","theme","setTheme","saved","localStorage","getItem","prefersDark","window","matchMedia","matches","e","handleCodeChange","value","handleCompile","res","fetch","method","headers","body","JSON","stringify","latex","ok","errText","text","alert","blob","url","URL","createObjectURL","Date","now","prevUrl","revokeObjectURL","err","message","handleKeyDown","ctrlKey","metaKey","key","preventDefault","addEventListener","removeEventListener","console","log","document","title","dispatchEvent","Event","documentElement","setAttribute","setItem","editorClass","previewClass","editorVisible","createElement","className","Toolbar","onViewModeChange","onCompile","onToggleTheme","t","LaTeXEditor","onChange","isVisible","src","style","width","height","border","Collaborative","constructor","socket","editor","app","users","currentUser","currentRoom","isUpdatingFromRemote","decorations","pendingChanges","localVersion","remoteVersion","init","waitForSocketIO","initSocket","getUserInfo","waitForEditor","setupCollaboration","Promise","resolve","checkSocketIO","io","setTimeout","on","data","userId","handleRemoteUpdate","length","leftUserIds","map","u","filter","find","forEach","removeUserCursor","updateUsersList","handleCursorUpdate","roomId","setValue","content","showMessage","isPasswordProtected","error","promptForRoom","createRoom","confirm","password","prompt","joinRoom","exists","userName","userColor","getRandomColor","name","color","checkRoomExists","emit","userData","checkEditor","editorElement","getElementById","monaco","_monacoEditor","editors","getEditors","onDidChangeModelContent","changes","change","range","startLineNumber","startColumn","endLineNumber","endColumn","rangeLength","timestamp","onDidChangeCursorPosition","lineNumber","position","column","model","getModel","currentPosition","getPosition","currentSelection","getSelection","edits","Range","forceMoveMarkers","pushEditOperations","decoration","options","stickiness","TrackedRangeStickiness","NeverGrowsWhenTypingAtEdges","before","user","inlineClassName","inlineClassNameAffectsLetterSpacing","beforeContentClassName","decorationIds","deltaDecorations","push","id","userDecorations","d","createUsersListUI","existingList","remove","usersList","cssText","roomInfo","roomTitle","textContent","switchButton","onclick","appendChild","userElement","colorDot","nameElement","colors","Math","floor","random","type","messageDiv","parentNode","removeChild","head","readyState","collaborative","useRef","latexCommands","latexEnvironments","editorRef","monacoRef","layoutTimeout","require","current","config","paths","vs","languages","register","defineTheme","base","inherit","rules","token","foreground","fontStyle","setMonarchTokensProvider","tokenizer","root","registerCompletionItemProvider","triggerCharacters","provideCompletionItems","lineContent","getLineContent","textBeforeCursor","substring","commandMatch","match","partialCommand","textAfterCursor","suggestions","cmd","command","startsWith","hasOpenBrace","hasClosingBrace","insertText","includes","replace","label","kind","CompletionItemKind","Function","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","documentation","beginMatch","partialEnv","env","Keyword","environmentName","totalLines","getLineCount","searchLimit","min","endPattern","i","line","Snippet","sortText","create","language","fontSize","lineNumbers","roundedSelection","scrollBeyondLastLine","automaticLayout","minimap","enabled","wordWrap","lineHeight","padding","top","bottom","renderLineHighlight","cursorBlinking","cursorWidth","fontFamily","fontLigatures","smoothScrolling","guides","indentation","bracketPairs","currentValue","getValue","handleClearEditor","dispose","clearTimeout","layout","warn","ref","PreviewPane","processedContent","setProcessedContent","isLoading","setIsLoading","processLaTeX","html","items","split","item","trim","join","timeoutId","dangerouslySetInnerHTML","__html","handleDownload","Blob","a","href","download","click","handleDownloadPDF","handleClear","event","CustomEvent","handleViewClick","mode","onClick","disabled","initializeApp","ReactDOM","createRoot","render","innerHTML"],"sourceRoot":""}